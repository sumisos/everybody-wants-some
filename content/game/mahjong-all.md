---
title: "日麻役种一览"
date: 2021-03-18T23:07:20+08:00
tags: ["Mahjong"]
series: ["Mahjong"]
related: true
---

## 改造主题

### 麻将 emoji

一开始我就决定要 **可视化** 显示各种麻将牌面，但当时还没想好如何设计。\
接着我想起 emoji 是有麻将牌的 [^emoji]，于是 _最开始的时候_ 就用了笨办法——手写 emoji。

[^emoji]:
    全套麻将牌的 emoji 出现在 emoji 版本 11.0 以及 Unicode 版本 5.1。\
    （🀄 是出现在 emoji 版本 1.0。）

由于我的重度强迫症，「分门别类地列出所有役种」对我来说是一件能带来快感的事。\
于是我居然写完了本文，50 副牌面每一个 emoji 都是我手写的。当时不觉得，写完才惊到。

后来由于日麻实在太杀时间了，渐渐就打得少了，本文也被遗忘了。\
直到 2022.3.15（刚好一年）有读者发邮件来问牌面，我才想起原来这里还有个坑没填。

### 图片

直到那时我仍然视 emoji 为一种妥协方案，因为 emoji 在不同系统不同平台上的显示风格不能说是各有千秋，也可以说是五花八门了，严重缺乏我想要的一致性。

然后本来想用 SVG 矢量图，没什么好说的，SVG 天下第一。\
转念一想，麻将有 9 × 3 + 4 + 3 = 34 种花色，当然要用 CSS Sprite 优化，那不如就用 PNG。

<details>
  <summary>网上随便搜到的图片素材</summary>

[下载页面](http://616pic.com/sucai/ve9iemj41.html)

![](http://pic.616pic.com/ys_bnew_img/00/19/77/WfLLQwlRqa.jpg)

</details>

素材有了，开始实现。

> 相关 Hugo 文档：「[图片资源处理](https://gohugo.io/content-management/image-processing/#the-image-resource)」「[images.Filter](https://gohugo.io/functions/images/)」

### Hugo 的 shortcode

具体实现还是用 Hugo 的 shortcode 自动转换快捷缩写，最后显示统一格式。

| {{< ruby "万子" "man zi" >}} | {{< ruby "索子" "suo zi" >}} | {{< ruby "饼子" "ping zi" >}} | 东风 | 南风 | 西风 | 北风 | 白板 | 发财 | 红中 |
| :--------------------------: | :--------------------------: | :---------------------------: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|             `m`              |             `s`              |              `p`              | `E`  | `S`  | `W`  | `N`  | `B`  | `F`  | `C`  |
|            🀇 - 🀏             |            🀐 - 🀘             |             🀙 - 🀘             |  🀀   |  🀁   |  🀂   |  🀃   |  🀆   |  🀅   |  🀄  |

> 实际使用时是不区分大小写的，**字牌** 大写是为了对人类阅读友好（便于肉眼辨识）。\
> 没错，`234ssss` 或者 `sss234s` 都可以正确解析为「🀑🀒🀓🀁🀁🀁」。

<pre>
{{&lt; mahjong 234m34678s567pff 25s &gt;}} 全小写
{{&lt; mahjong 234M34678S567PFF 25s &gt;}} 全大写
{{&lt; mahjong 234m34678s567pFF 25s &gt;}} 都是一样的
</pre>

{{< mahjong 234m34678s567pFF 25s >}}

想了一下最后附加的可能是和牌也可能是听牌，于是单独做了处理。

<pre>
{{&lt; mahjong 567m234s55567pcc cc55555555555555555555555555555888p &gt;}}
</pre>

{{< mahjong 567m234s55567pcc cc55555555555555555555555555555888p >}}

如果附加的牌只有 1 张，自动视为和牌。\
如果有 2 张及以上，则视为听牌；重复的牌显示时会自动去重，这样就区分开了单听与和牌。

<pre>
{{&lt; mahjong 1334455699peee 22p &gt;}}
{{&lt; mahjong 1334455699peee 2p &gt;}}
</pre>

{{< mahjong 1334455699peee 22p >}}
{{< mahjong 1334455699peee 2p >}}

最后只要把 emoji 替换成图片素材就行了。

不过就在此时，我发现 emoji 呈现的效果已经够好了。\
而且 emoji 作为文本，可以直接选中整行复制粘贴，这也是图片没法实现的优势。

> - [x] 做了数量检测，如果不是 13 张直接无视第二个参数（附加的牌）\
>        ~~感觉有点多余，这样只有门前清能显示听和~~\
>        改成大于 13 也不行，杠了手牌就不止 13 张了；而且吃碰暂时也没办法体现
> - [ ] 处理明杠 `3s-`、暗杠 `3s_`、加杠 `3s+`
> - [ ] 参考《[让 emoji 固定风格](https://blog.yami.love/2020/12/18/emoji/)》的思路统一不同平台显示的麻将牌 emoji 风格

## 一番

### 立直（门前清限定）

门前清状态下只要听牌即可立直，立直状态下和牌

{{< mahjong 123m444p567seees s >}}

### 断幺九

手牌中没有幺九牌：老头牌 🀇🀏🀐🀘🀙🀘、字牌（包括风牌 🀀🀁🀂🀃 和三元牌 🀆🀅🀄）

{{< mahjong 234567m333p4568s 8s >}}

### 门前清自摸和（门前清限定）

{{< mahjong 111234m333p789sn n >}}

注意：**只能自摸**，别人放铳是不能荣和的。

### 役牌：自风牌

包含自风刻子

{{< mahjong 333m456p1178ssss 9s >}}

### 役牌：场风牌

包含场风刻子

{{< mahjong 333m456p1178seee 6s >}}

### 役牌：三元牌

包含白、发、中的刻子

{{< mahjong 333m456p1178sbbb 9s >}}

### 平和（门前清限定）

4 组面子 + 非役牌的雀头 + 最后是顺子的两面听

{{< mahjong 123567m234p6799s 5s >}}

### 一杯口（门前清限定）

2 组完全相同的顺子

{{< mahjong 112233m444s2278p 6p >}}

### 抢杠

别家加杠的时候荣和（国士无双可以抢暗杠）

### 岭上开花

用摸到的岭上牌和牌

{{< mahjong 8888s >}}
{{< mahjong 234m555p3456s >}}
{{< mahjong 3s >}}

### 海底摸月

最后一张牌自摸和牌

### 河底捞鱼

最后一张牌荣和

### 一发

立直后，同一巡内无人鸣牌的状态下和牌

### 宝牌（算番不算役）

宝牌指示牌的下一张牌

{{< mahjong 3sxxxx >}}
{{< mahjong 4s >}}

### 赤宝牌（算番不算役）

红五万，红五筒，红五条

### 北宝牌（算番不算役）

三人麻将中，北风在拔北操作后可以算作宝牌（手牌中不算）

### 古役：燕返

荣和别家的立直宣言牌

### 古役：杠振

别人杠完后打出一张牌时荣和

### 古役：十二落抬

四副露自摸或荣和

## 二番

### 两立直（门前清限定）

第一巡，轮到自己之前无人鸣牌的情况下立直

### 三色同刻

三种数字牌都有相同数字的刻子  
{{< mahjong 333m333s2233367p 5p >}}

### 三杠子

一家开杠三次

{{< mahjong 6666m >}}
{{< mahjong 2222s >}}
{{< mahjong 8888p >}}
{{< mahjong 1145s >}}
{{< mahjong 3s >}}

### 对对胡

持有四组刻子（杠也算）

{{< mahjong 333m >}}
{{< mahjong 2222s >}}
{{< mahjong 777s55pee >}}
{{< mahjong e >}}

### 三暗刻

持有三组没有碰过的刻子

{{< mahjong 333m777p2223356s 4s >}}

### 小三元

三元牌中有两种刻子和一种雀头

{{< mahjong 78m567sbbbfffcc 9m >}}

### 混老头

**只有** 老头牌（一万、九万、一筒、九筒、幺鸡、九条）和字牌（风牌、三元牌）  
{{< mahjong 111m999p11seeeff 1s >}}

### 七对子（门前清限定）

七组不同的对子

{{< mahjong 1122m336688p7sbb 7s >}}

### 混全带幺九（副露减一番）

四组面子和雀头都 **含有** 老头牌和字牌

{{< mahjong 123789m789peeff f >}}

### 一气贯通（副露减一番）

同种数字牌组成 1 - 9 的顺子

{{< mahjong 123456789p34m99s 2m >}}

### 三色同顺（副露减一番）

三种数字牌都有相同数字的顺子

{{< mahjong 345m345s34599pff 9p >}}

### 古役：五门齐

四组面子和雀头分别是三种数字牌、风牌、三元牌

{{< mahjong 567m234p444seecc c >}}

### 古役：三连刻（又称一色三节高）

刻子同花顺（允许碰 / 杠，不碰 / 杠属于复合三暗刻）

{{< mahjong 555666777m56sww 4s >}}

## 三番

### 二杯口（门前清限定）

两组一杯口

{{< mahjong 556677p223344ss s >}}

### 纯全带幺九（副露减一番）

四组面子和雀头都 **含有** 老头牌（跟混全带的区别是不带字牌）

{{< mahjong 123789m789p1199s 1s >}}

### 混一色（副露减一番）

只包含一种数字牌，以及字牌的刻子（字牌只有刻子）和雀头

{{< mahjong 111456678mnncc n >}}

### 古役：一色三同顺（副露减一番）

三组完全相同的顺子（允许吃，不吃可以复合全带平和）

{{< mahjong 111222333m56s88p 7s >}}

> 如果没有鸣牌（吃碰杠）导致手牌同时满足两种役种，则计分时按番高的算（一色三顺三番 > 三连刻两番），番数一样按符多的算（暗刻有符 > 顺子没符）。

## 六番

### 清一色（副露减一番）

只含有一种数字牌，不含字牌

{{< mahjong 1223344567799p 7p >}}

## 满贯

### 流局满贯

舍张全是幺九牌且没有被别家鸣牌（吃碰杠）的状态下荒牌流局

> 所以为什么说断幺九是神役，只要你坚持断幺九，就算最后打到荒牌流局，如果中途没人鸣你的牌，这局就算你满贯通吃。

### 古役：一筒摸月

最后一张牌自摸一筒（五番）

### 古役：九筒捞鱼

最后一张牌荣和九筒（五番）

## 役满

### 天和（庄家限定）

庄家第一巡自摸和牌

### 地和（子家限定）

第一巡，轮到自己之前无人鸣牌的情况下自摸和牌

### 大三元

包含三元牌的三组刻子

{{< mahjong 23s99pbbbfffccc 4s >}}

### 四暗刻（门前清限定）

没有碰的情况下四组面子都是刻子

{{< mahjong 222888m444s3366p 3p >}}

### 字一色

只包含字牌

{{< mahjong eeennnssbbfff s >}}

### 绿一色

只包含二条、三条、四条、六条、八条以及发牌（也可以不含发）

{{< mahjong 22223466888sff 6s >}}

> emoji 的索子都不是纯绿色，但标准麻将这些索子应该是全绿的。

### 清老头

只包含老头牌

{{< mahjong 111999m99s11999p 9s >}}

### 国士无双（门前清限定）

如果实在凑不齐十三面，能凑成这样也算国（只和红中，可以抢暗杠）

{{< mahjong 19m19s199peswnbf c >}}

### 小四喜

三种风牌的刻子和剩下一种风牌的雀头

{{< mahjong 123peeesswwnnn w >}}

### 四杠子

一家开杠四次

{{< mahjong 2222m >}}
{{< mahjong 5555p >}}
{{< mahjong bbbb >}}
{{< mahjong 4444s >}}
{{< mahjong f >}}
{{< mahjong f >}}

### 九莲宝灯（门前清限定）

凑成「同一种数字牌 1112345678999」的牌型

{{< mahjong 1112344567899s 9s >}}

### 古役：人和（门前清限定）

第一巡，轮到自己摸牌之前无人鸣牌的情况下荣和

### 古役：大车轮（门前清限定）

筒子 2 - 8 组成的七对子

{{< mahjong 2233445667788p 5p >}}

### 古役：大竹林（门前清限定）

索子 2 - 8 组成的七对子

{{< mahjong 2233445566788s 7s >}}

### 古役：大数邻（门前清限定）

万子 2 - 8 组成的七对子

{{< mahjong 2234455667788m 3m >}}

### 古役：石上三年（门前清限定）

「两立直 + 海底摸月」或「两立直 + 河底捞鱼」

## 倍满（双倍役满）

### 四暗刻单骑（门前清限定）

四组暗刻（没有碰过的刻子） + 雀头单骑听牌和牌

{{< mahjong 222m444p3777snnn 3s >}}

### 国士无双十三面（门前清限定）

十三张不同幺九牌和任何一张  
{{< mahjong 19m19s19peswnbfc c >}}

> Q：十三面不是比普通国更高级吗，为啥反而不能抢暗杠了？  
> A：你都十三幺了哪还有给你抢的杠……只剩吃碰可以抢一抢，差不多得了。

### 纯正九莲宝灯（门前清限定）

同一种数字牌 1112345678999 和其中任何一张数字牌

> 普通九莲宝灯单和一张（凑成九莲宝灯），纯正九莲宝灯和九张中任何一张。

{{< mahjong 1112345678999s 6s >}}

> 你试过振听九张的感觉吗？

### 大四喜

包含四种风牌的刻子

{{< mahjong 5peeessswwwnnn 5p >}}

### 古役：大七星（门前清限定）

七种字牌组成的七对子

{{< mahjong eesswwnnbbfcc f >}}

## 流局

### 四风连打

第一巡，无人鸣牌的情况下所有人都打出了同一种风牌

### 四杠散了

两家以上合计开杠四次（主要因为宝牌指示器只有五张）

### 九种九牌

第一巡，轮到自己之前无人鸣牌的情况下持有九种及以上的幺九牌 ~~这不国吗~~

{{< mahjong 139m3349s19penfc >}}

> 简单算了一下九种九牌做国成功率不到二十分之一，还是放弃吧。\
> ~~当然你硬要追梦我也劝不住是吧。~~

2021.3.19 补充：九种九牌为什么可以直接流局，是有它的道理的。\
如果概率高是个人都接着做国了，谁还会流？还有必要专门加一条允许流牌的规则吗？

附国士无双概率表：

|    配牌     | 流局概率 | 荣和概率 | 放铳概率 | 自摸概率 |
| :---------: | :------: | :------: | :------: | :------: |
| 13 种 13 牌 |  0.000%  | 99.812%  |  0.057%  |  0.048%  |
| 12 种 13 牌 |  2.834%  | 66.542%  | 10.637%  |  9.859%  |
| 12 种 12 牌 |  3.797%  | 55.718%  | 14.052%  | 13.162%  |
| 11 种 12 牌 | 11.049%  | 20.960%  | 23.977%  | 22.067%  |
| 11 种 11 牌 | 11.074%  | 19.749%  | 24.525%  | 22.381%  |
| 10 种 11 牌 | 15.024%  |  6.464%  | 27.919%  | 25.453%  |

> 为什么十三幺听牌也有放铳概率啊？  
> 只许你十三幺，就不许别人也是十三幺？铳一色了解一下？  
> 结论：九种及以下直接下一把，十种可以追梦，十一种及以上建议不多 BB 直接国。

### 四家立直

四家全部宣告立直成功
